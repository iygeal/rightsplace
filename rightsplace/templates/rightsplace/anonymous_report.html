{% extends "rightsplace/layout.html" %}
{% load static %}

{% block title %}Submit Anonymous Report â€” RightsPlace{% endblock %}

{% block extra_css %}
<style>
    .section-card {
        border-radius: 12px;
        border: 1px solid #e3e3e3;
        padding: 25px;
        margin-bottom: 20px;
        background: #fff;
    }
</style>
{% endblock %}

{% block content %}
<div class="container py-4">

    <div class="text-center mb-5">
        <h1 class="fw-bold">Submit an Anonymous Report</h1>
        <p class="text-muted">
            Your identity will not be collected or stored.
            Provide only the information you're comfortable sharing.
        </p>
    </div>

    <!-- Messages -->
    {% if messages %}
        <div class="mb-4">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }}">{{ message }}</div>
            {% endfor %}
        </div>
    {% endif %}

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <!-- =====================
             REPORT DETAILS SECTION
             ===================== -->
        <div class="section-card shadow-sm">
            <h4 class="mb-3">Report Details</h4>

            {{ form.title.label_tag }}
            {{ form.title }}

            {{ form.description.label_tag }}
            {{ form.description }}

            {{ form.category.label_tag }}
            {{ form.category }}

            {{ form.incident_location.label_tag }}
            {{ form.incident_location }}

            {{ form.evidence_files.label_tag }}
            {{ form.evidence_files }}
        </div>


        <!-- =============================
             OPTIONAL CONTACT INFORMATION
             ============================= -->
        <div class="accordion mb-4" id="contactAccordion">
            <div class="accordion-item">
                <h2 class="accordion-header" id="contactHeading">
                    <button class="accordion-button collapsed" type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#contactInfo">
                        Optional: Provide Contact Information (if you want to be reached for follow-up or support)
                    </button>
                </h2>

                <div id="contactInfo" class="accordion-collapse collapse"
                     aria-labelledby="contactHeading"
                     data-bs-parent="#contactAccordion">

                    <div class="accordion-body">

                        <p class="text-muted">
                            If you want us to reach out for follow-up or support,
                            you may provide your contact information.
                        </p>

                        {{ form.contact_email.label_tag }}
                        {{ form.contact_email }}

                        {{ form.contact_phone.label_tag }}
                        {{ form.contact_phone }}

                    </div>
                </div>
            </div>
        </div>

        <!-- Submit -->
        <button class="btn btn-primary btn-lg w-100">Submit Report Anonymously</button>

    </form>

</div>
{% endblock %}
